<!DOCTYPE HTML>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/> 
    <style>
      html, body {
        height: 100%;
        padding: 0;
        margin: 0;
      }
      #map {
        /* configure the size of the map */
        width: 100%;
        height: 80%;
      }
    </style>

	<!-- leaflet.js library-->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
		integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
		crossorigin=""></script>
	<!-- leaflet fullscreen plugin -->
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
	<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

  </head>
  <body>
    <div id="map"></div>
	<div id="info" style="padding: 10px; background: #f0f0f0; font-family: sans-serif;">
		<em>Klicke auf einen Punkt, um Details anzuzeigen.</em>
	</div>
	
    <script>
		// OpenStreetMap baselayer tiles
		const osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '&copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap contributors</a>'
		});
		
		// OpenStreetMap Humanitarian baselayer tiles	  
		const osmHOT = L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'
		});
	  
		// ÖPNVKarte baselayer tiles
		const oepnv = L.tileLayer('https://tile.memomaps.de/tilegen/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '&copy; <a href="https://www.%C3%B6pnvkarte.de">ÖPNV-Karte</a> (<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>)'
		});

		// OpenTopoMap baselayer tiles
		const openTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
		});

		// Railway tiles - funktioniert derzeit nicht
		/*const OpenRailwayMap = L.tileLayer('https://{s}.tiles.openrailwaymap.org/standard/{z}/{x}/{y}.png', {
			maxZoom: 19,
			attribution: '&copy; Map data: <a href="https://www.openstreetmap.org/copyright"> OpenStreetMap contributors</a>, Map Style: <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a> <a href="http://www.openrailwaymap.org/">OpenRailwayMap</a>'
		});*/

		const VDZ = L.layerGroup();
		// VDZ marker Pin + popup
		var redIcon = new L.Icon({
		  iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
		  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
		  iconSize: [19, 31],
		  iconAnchor: [9, 31],
		  popupAnchor: [1, -21],
		  shadowSize: [31, 31]
		});
		L.marker([51.250364, 6.792241], {icon: redIcon}).bindPopup("<strong>VDZ</strong><br>Düsseldorf<br>Germany"
		).addTo(VDZ).openPopup();
		// VDZ marker Kreis + tooltip
		var testMarker = L.circleMarker([51.250364, 6.792241], { 
		  radius: 8,
		  color: 'red',
		  weight: 3,
		  opacity: 0.5,
		  interactive: true
		}).addTo(VDZ);
		testMarker.bindTooltip("<strong>VDZ</strong><br>Toulouser Alle 71<br>40476 Düsseldorf<br>Germany", { direction: "top" });
		testMarker.on('mouseover', function() { this.openTooltip(); });
		testMarker.on('mouseout', function() { this.closeTooltip(); });

		// initialize Leaflet map
		const map = L.map('map', {
			center: [39.73, -104.99],
			zoom: 10,
			fullscreenControl: true,
			// OR
			fullscreenControl: {
				pseudoFullscreen: false // if true, fullscreen to page width and height
			},
			layers: [osm, VDZ]
		}).setView({lat: 51.250364, lng: 6.792241}, 5);;
		const baseLayers = { // define Base-Layers
			'OpenStreetMap': osm,
			'OpenStreetMap.HOT': osmHOT,
			'ÖPNV-Karte': oepnv,
			'OpenTopoMap': openTopoMap,
			//'OpenRailwayMap' : OpenRailwayMap
		};
		const overlays = { // define Overlys-Layers
			'VDZ': VDZ
		};
		const layerControl = L.control.layers(baseLayers, overlays).addTo(map); // Add Layers to map
		L.control.scale({imperial: true, metric: true}).addTo(map); // show the scale bar on the lower left corner

		function getColor(type) { // Funktion zur Auswahl der Farbe
			switch (type) {
				case 'Zementklinkerwerk': return '#ff8833'; // Layer_1 orange
				case 'Mahlwerk': return '#3388ff'; // Layer_2 blau
				case 'C': return '#2ca02c'; // grün
				case 'D': return '#d62728'; // rot
				default: return '#999999';  // grau für unbekannte Typen
			}
		}

		// =============================================================
		// Layer 1+2 laden = Zementklinkerwerke und Mahlwerke: GeoJSON-Datei laden und Hinzufügen zur Karte
		// =============================================================
		function getRadius(value) { // Funktion zur Berechnung des Radius
			const scaleRadius = 6;
			const minRadius = scaleRadius / 2;
			return (typeof value === 'number' && value > 0) ? Math.sqrt(Math.sqrt(value)) * scaleRadius : minRadius;
		}
			
		// Layer 1+2 laden von URL der GeoJSON-Datei
		//var geojsonUrl = 'http://pc884.vdz.local/geo/data.geojson'; //'https://example.com/path/to/your/file.geojson'
		fetch('https://raw.githubusercontent.com/jorail/PiedPiper/refs/heads/main/docs/map.geojson') // URL der GeoJSON-Datei
			.then(response => {
				if (!response.ok) {
					throw new Error('Netzwerkantwort war nicht ok ' + response.statusText);
				}
				return response.json();
			})
			.then(data => {	
				//console.log('GeoJSON-Daten geladen:', data); // Debugging: Anzeigen der geladenen Daten
				// Split features into two groups
				const KlinkerwerkeFeatures = data.features.filter(f => f.properties.type === 'Zementklinkerwerk');
				const MahlwerkeFeatures = data.features.filter(f => f.properties.type === 'Mahlwerk');

				//Layer 1 Zementklinkerwerke
				var Layer_1 = L.geoJSON({ type: "FeatureCollection", features: KlinkerwerkeFeatures}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadius(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
					    /*if (feature.properties && feature.properties.size) {
							style: function (feature) {
								return {radius: 4*feature.properties.size};
							};
							return L.circleMarker(latlng, {
							  radius: feature.properties.size
							});
						};*/
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							/*var lat = e.target.getLatLng().lat;
							var lng = e.target.getLatLng().lng;*/
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
					//style: function (feature) {
						//return { color: "blue", weight: 8 };
					//}
				}).addTo(map);
				
				//Layer 2 Mahlwerke
				var Layer_2 = L.geoJSON({ type: "FeatureCollection", features: MahlwerkeFeatures}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadius(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
				}).addTo(map);
		
				//Karte automatisch auf beide Teile der GeoJSON-Daten zoomen
				var combinedBounds = Layer_1.getBounds().extend(Layer_2.getBounds());
				map.fitBounds(combinedBounds);
				//in Layer Control Legende ergänzen
				layerControl.addOverlay(Layer_1, 'Zementklinkerwerke');
				layerControl.addOverlay(Layer_2, 'Mahlwerke');
			})
			.catch(error => console.error('Fehler beim Laden der GeoJSON-Datei:', error));
		
		// =============================================================
		// Layer 3, 4, 5, 6 ... laden = CO2-capture Projekte: GeoJSON-Datei laden und Hinzufügen zur Karte
		// =============================================================
		function getRadiusCC(value) { // Funktion zur Berechnung des Radius
			const scaleRadius = 6;
			const minRadius = scaleRadius / 2;
			return (typeof value === 'number' && value > 0) ? Math.sqrt(Math.sqrt(value)) * scaleRadius : minRadius;
		}		
		// Layer 3, 4, 5, 6 ... laden von URL der GeoJSON-Datei
		fetch('https://raw.githubusercontent.com/jorail/PiedPiper/refs/heads/main/docs/map.geojson') 
			.then(response => {
				if (!response.ok) {
					throw new Error('Netzwerkantwort war nicht ok ' + response.statusText);
				}
				return response.json();
			})
			.then(data => {	
				//console.log('GeoJSON-Daten geladen:', data); // Debugging: Anzeigen der geladenen Daten
				// Split features into two groups
				const CC_TRLA_Features = data.features.filter(f => f.properties.type === 'TRLA');
				const CC_TRLB_Features = data.features.filter(f => f.properties.type === 'TRLB');
				const CC_TRLC_Features = data.features.filter(f => f.properties.type === 'TRLC');
				const CC_TRLD_Features = data.features.filter(f => f.properties.type === 'TRLD');

				//Layer 3 CO2-capture TRL A
				var Layer_3 = L.geoJSON({ type: "FeatureCollection", features: CC_TRLA_Features}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadiusCC(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
				}).addTo(map);
				
				//Layer 4 CO2-capture TRL B
				var Layer_4 = L.geoJSON({ type: "FeatureCollection", features: CC_TRLB_Features}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadiusCC(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
				}).addTo(map);
				
				//Layer 5 CO2-capture TRL C
				var Layer_5 = L.geoJSON({ type: "FeatureCollection", features: CC_TRLC_Features}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadiusCC(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
				}).addTo(map);
				
				//Layer 6 CO2-capture TRL D
				var Layer_6 = L.geoJSON({ type: "FeatureCollection", features: CC_TRLD_Features}, {
					pointToLayer: function (feature, latlng) {
						const radius = getRadiusCC(feature.properties.size);
						const fillColor = getColor(feature.properties.type);
						return L.circleMarker(latlng, {
						  radius: radius,
						  fillColor: fillColor,
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.title) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.title, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<strong>' + feature.properties.name + '</strong> <br>' 
								+ feature.properties.company + '<br>' 
								+ feature.properties.city + ', ' + feature.properties.country + '<br>'
								+ '<a href="' + feature.properties.url_osmpin + '" target="_blank" rel="noopener noreferrer">Detail</a>, ' 
								+ '<a href="' + feature.properties.url_sat + '" target="_blank" rel="noopener noreferrer">Luftbild</a>, '
								+ '<a href="mailto:rj@ecra-online.org?subject=Update%20zu%20Zementwerk&body=Update%20/%20Neue%20Informationen%20/%20Korrekturvorschlag%20zu%20Zementwerk%0A' 
								+ feature.properties.title + ',%20' + feature.properties.country + ',%20ID=' + feature.properties.ID + ':%0A%0D...">Update?</a>', 
								{
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<table>";
							for (var key in props) {
							  html += "<tr><td><strong>" + key + ":</strong></td><td> " + props[key] + "</td></tr>";
							}
							html += "</table>";
							document.getElementById("info").innerHTML = html;
						});
					},
				}).addTo(map);
		
				//Karte automatisch auf alle Teile der GeoJSON-Daten zoomen
				var combinedBounds = Layer_1.getBounds().extend(Layer_2.getBounds()).extend(Layer_3.getBounds()).extend(Layer_4.getBounds()).extend(Layer_5.getBounds()).extend(Layer_6.getBounds());
				map.fitBounds(combinedBounds);
				//in Layer Control Legende ergänzen
				layerControl.addOverlay(Layer_3, 'CO2 capture TRL A');
				layerControl.addOverlay(Layer_4, 'CO2 capture TRL B');
				layerControl.addOverlay(Layer_5, 'CO2 capture TRL C');
				layerControl.addOverlay(Layer_6, 'CO2 capture TRL D');
			})
			.catch(error => console.error('Fehler beim Laden der GeoJSON-Datei:', error));

		/*
		//Example Colorado cities example
		const Colorado_cities = L.layerGroup();
		const mLittleton = L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.').addTo(Colorado_cities);
		const mDenver = L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.').addTo(Colorado_cities);
		const mAurora = L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.').addTo(Colorado_cities);
		const mGolden = L.marker([39.77, -105.23]).bindPopup('This is Golden, CO.').addTo(Colorado_cities);

		//Example add parks overlays layer
		const crownHill = L.marker([39.75, -105.09]).bindPopup('This is Crown Hill Park.');
		const rubyHill = L.marker([39.68, -105.00]).bindPopup('This is Ruby Hill Park.');
		const Denver_parks = L.layerGroup([crownHill, rubyHill]);
		layerControl.addOverlay(Denver_parks, 'Denver_Parks');	
		*/

		/*
		// Layer_X = Example Cities Kenia: GeoJSON-Datei laden und Hinzufügen zur Karte
		fetch('https://raw.githubusercontent.com/sammigachuhi/geojson_files/main/cities-geojson.geojson')
			.then(response => {
				if (!response.ok) {
					throw new Error('Netzwerkantwort war nicht ok ' + response.statusText);
				}
				return response.json();
			})
			.then(data => {
				//console.log('GeoJSON-Daten geladen:', data); // Debugging: Anzeigen der geladenen Daten
				var Layer_X = L.geoJSON(data, {
					pointToLayer: function (feature, latlng) {
						return L.circleMarker(latlng, {
						  radius: 8,
						  fillColor: "#3388ff",
						  color: "#000",
						  weight: 1,
						  opacity: 1,
						  fillOpacity: 0.8,
						  interactive: true
						});
					},
					onEachFeature: function (feature, layer) {
						if (feature.properties && feature.properties.City) { //replace City by Name when defined in GeoJson
							layer.bindTooltip(feature.properties.City, {  //Mouse Hover-Event: Zeige Titel //replace City by title when defined in GeoJson
								  permanent: false,
								  direction: "right",
								  offset: [0, 0],
								  opacity: 0.8
								});
						};
						if (feature.properties) { // Klick-Event: Popup zeigt Feature Properties
							layer.bindPopup('<h1>'+feature.properties.City+'</h1><p>population: '+feature.properties.Population+'</p>', {
								  direction: "top",
								  offset: [0, 0],
								  opacity: 0.8,
								  autoClose: false,
								  closeOnClick: false
							}).openTooltip();
					    };
						layer.on('click', function(e) { // Klick-Event: Zeige Info in Info-Box
							var props = feature.properties;
							var html = "<h3>Details zum Ort:</h3><ul>";
							for (var key in props) {
							  html += "<li><strong>" + key + ":</strong> " + props[key] + "</li>";
							}
							html += "</ul>";
							document.getElementById("info").innerHTML = html;
						});
					},
					//style: function (feature) {
						//return { color: "blue", weight: 8 };
					//}
				}).addTo(map);
				map.fitBounds(Layer_X.getBounds()); // Karte automatisch auf die GeoJSON-Daten zoomen
			})
			.catch(error => console.error('Fehler beim Laden der GeoJSON-Datei:', error));
		*/
		
	</script>
  </body>
</html>



